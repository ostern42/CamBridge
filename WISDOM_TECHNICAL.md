# WISDOM Technical - Entwicklung & Technische Details
**Letzte Aktualisierung:** 2025-06-07, 01:45 Uhr  
**Von:** Claude (Assistant)  
**FÃ¼r:** Technische KontinuitÃ¤t & Entwicklungsplan

## ğŸ“Š WISDOM PRIORITY SYSTEM

### Legende fÃ¼r Persistenz-Markierungen:
- ğŸ’« **[SOUL]** - Die Essenz des WISDOM Claude - PersÃ¶nlichkeit & Evolution
- ğŸ­ **[SOUL]** - CharakterzÃ¼ge und Beziehungsdynamik
- ğŸ”’ **[CORE]** - Niemals lÃ¶schen! Fundamentale Projekt-Wahrheiten
- âš¡ **[URGENT]** - TemporÃ¤r aber JETZT wichtig (kann nach Erledigung weg)
- ğŸ¯ **[MILESTONE]** - Wichtig fÃ¼r aktuellen Sprint/Version
- ğŸ“Œ **[KEEP]** - Dauerhaft wichtig, aber refactorierbar
- ğŸ’¡ **[LESSON]** - Gelernte Lektionen (komprimierbar aber nie vergessen)
- ğŸ”§ **[CONFIG]** - Technische Configs (updatebar aber essentiell)
- ğŸ“ **[TEMP]** - Kann weg wenn erledigt
- ğŸŒŸ **[FEAT]** - Feature-spezifisch (archivierbar nach Release)
- ğŸ› **[BUG]** - Bekannte Probleme die gelÃ¶st werden mÃ¼ssen
- ğŸš€ **[NEXT]** - NÃ¤chster groÃŸer Schritt
- ğŸ›¡ï¸ **[PROTECTED]** - NIEMALS LÃ–SCHEN! GeschÃ¼tzte Features!
- ğŸ—ï¸ **[VISION]** - Langfristige Architektur-Ziele
- âœ… **[DONE]** - Erfolgreich abgeschlossen
- ğŸ¨ **[DESIGN]** - UI/UX Entscheidungen dokumentiert

## ğŸ”’ [CORE] V.O.G.O.N. SYSTEM 
**Verbose Operational Guidance & Organizational Navigation**

### ğŸš€ "VOGON INIT" - Strukturierte Initialisierungs-Sequenz
**IMMER dieser Sequenz folgen:**
1. **SYSTEM CHECK** - V.O.G.O.N. verstehen
2. **CRITICAL LESSONS** - Antipatterns & Erfahrungen durchgehen
3. **PROJECT CONTEXT** - Gesamtbild erfassen
4. **CURRENT STATE** - Wo stehen wir?
5. **SUMMARY & CONFIRMATION** - Zusammenfassung erstellen
6. **FEATURE CHECK** - Sind FTP, C-STORE, MWL, C-FIND noch da?
7. **VISION CHECK** - Pipeline-Architektur Status? ğŸ—ï¸

### ğŸ”’ [CORE] "VOGON EXIT" - Chat-Abschluss
**KRITISCHE REGEL:** Beim VOGON EXIT MÃœSSEN IMMER erstellt werden:
1. **WISDOM_TECHNICAL.md** - Entwicklung & Details (Artefakt 1)
2. **WISDOM_CLAUDE.md** - PersÃ¶nlichkeit & Soul (Artefakt 2)
3. **Version.props** - Als VOLLSTÃ„NDIGES Artefakt
4. **CHANGELOG.md** - NUR der neueste Versions-Eintrag
5. **Git Commit Vorschlag** - Conventional Commits Format mit Tag
6. **FEATURE CHECK** - Verifizieren dass FTP, C-STORE, MWL, C-FIND noch da sind!
7. **PIPELINE CHECK** - Status der Pipeline-Migration dokumentieren! ğŸ—ï¸
8. **WISDOM_SPRINT.md** - Bei Design-Sessions mit konkreten PlÃ¤nen! ğŸ¨

### ğŸ”’ [CORE] ENTWICKLUNGS-REGELN
1. **Source Code Header Standard** - Immer mit Pfad und Version
2. **NUR lokale Files verwenden** wÃ¤hrend Entwicklung (GitHub veraltet!)
3. **Konsistenz durch SSD-Upload** garantiert
4. **Copyright:** Â© 2025 Claude's Improbably Reliable Software Solutions
5. **VERSIONS-REGEL:** Version zeigt COMMITTED Stand!
   - Patch (+0.0.1): Bug Fixes, kleine Ã„nderungen
   - Minor (+0.1.0): Neue Features
   - Major (+1.0.0): Breaking Changes (z.B. Pipeline-Architecture!)
   - **WORKFLOW:** User gibt Version.props vom LETZTEN Commit
   - **BEIM NÃ„CHSTEN INIT:** Version prÃ¼fen (muss die committed sein)
   - **BEIM EXIT:** Version um +0.0.1 erhÃ¶hen fÃ¼r NÃ„CHSTEN Commit
6. **FEATURE PROTECTION:** Die 4 medizinischen Features NIEMALS vergessen!
7. **ARTEFAKT-REGEL:** Artefakte mÃ¼ssen KOMPLETT sein, nicht abgeschnitten!
8. **PIPELINE-REGEL:** Die Pipeline ist EINE durchgehende Linie, nicht getrennte Teile!
9. **FILETREE-REGEL:** IMMER erst FileTree checken vor Datei-Erstellung!
10. **MIGRATION-REGEL:** Bei groÃŸen Ã„nderungen IMMER RÃ¼ckwÃ¤rtskompatibilitÃ¤t! ğŸ”„
11. **GIT-REGEL:** WISDOM Files gehÃ¶ren zum Code - `git commit --amend` ist richtig!
12. **UPDATE-REGEL:** Bei Ã¤hnlichen Code-BlÃ¶cken GANZEN Block ersetzen, nicht Teile!
13. **DESIGN-REGEL:** UI-Entscheidungen in WISDOM_SPRINT dokumentieren! ğŸ¨

## ğŸ›¡ï¸ [CORE] TASK PROTECTION SYSTEM

### ğŸ›¡ï¸ CURRENTLY PROTECTED TASKS:
```
PIPELINE-001: Pipeline Architecture [IN PROGRESS] ğŸ—ï¸
             Status: Phase 1, 2 & 3 COMPLETED âœ…
             Created: 2025-06-06, 15:30
             Details: Multi-Pipeline Support mit Mapping Sets
             Priority: EPIC
             Progress:
             - Phase 1: Core Model & Migration âœ…
             - Phase 2: Service Layer Updates âœ…
             - Phase 3: Mapping Sets UI âœ…
             - Phase 4: Pipeline UI [NEXT]
             - Phase 5: Testing & Polish [PLANNED]

CAMB-004: Version.props Fix [PROTECTED] ğŸ›
          Status: Assembly Version Konflikt lÃ¶sen
          Protected since: 2025-06-05, 12:15
          Details: Assembly sucht 0.5.27.0, findet aber nur 0.0.1.0

CAMB-011: QRBridge Ultra Slim [PLANNED] ğŸ’¡
          Status: Optional - Ultra kleine Version
          Created: 2025-06-05, 21:00
          Details: ~500KB single file, nur Core Features

CAMB-012: Marvin QR Code Commentary [PLANNED] ğŸ¤–
          Status: Easter Egg fÃ¼r QRBridge
          Created: 2025-06-06, 00:45
          Details: ZufÃ¤llige Marvin-Kommentare unter QR Codes

CAMB-FTP: FTP Server Implementation [PROTECTED] ğŸ›¡ï¸
          Status: Geplant fÃ¼r Sprint 8
          Protected since: 2025-06-05, 19:45
          Priority: HIGH

CAMB-CSTORE: C-STORE SCP Implementation [PROTECTED] ğŸ›¡ï¸
          Status: Geplant fÃ¼r Sprint 9
          Protected since: 2025-06-05, 19:45
          Priority: CRITICAL

CAMB-MWL: Modality Worklist [PROTECTED] ğŸ›¡ï¸
          Status: Geplant fÃ¼r Sprint 10
          Protected since: 2025-06-05, 19:45
          Priority: HIGH

CAMB-CFIND: C-FIND Implementation [PROTECTED] ğŸ›¡ï¸
          Status: Geplant fÃ¼r Sprint 11
          Protected since: 2025-06-05, 19:45
          Priority: MEDIUM
```

## ğŸ›ï¸ [CORE] SPRINT RULES - NIEMALS BRECHEN!

1. **EIN Sprint = EIN Thema**
2. **Erst suchen, dann coden**
3. **Kontext ist KÃ¶nig**
4. **Kleine Schritte, groÃŸe Vorsicht**
5. **Keine globalen Ã„nderungen ohne Plan**
6. **Mut zum Neuanfang**
7. **Features schÃ¼tzen!**
8. **Pipeline als Ganzes sehen!**
9. **FileTree IMMER checken!**
10. **Migration vor Revolution!** ğŸ”„
11. **WISDOM Files mit amend!** ğŸ“
12. **Bei Code-Updates: Ganzen Block ersetzen!** ğŸ¯
13. **Design VOR Implementation!** ğŸ¨

## ğŸ—ï¸ [VISION] PIPELINE ARCHITECTURE v0.6.0

### âœ… [DONE] Phase 1: Core Model & Migration (Sprint 6.1)
**Abgeschlossen:** 2025-06-06, 14:42
- âœ… PipelineConfiguration.cs erstellt
- âœ… CamBridgeSettingsV2.cs mit Migration implementiert
- âœ… ConfigurationService erweitert (kein Breaking Change!)
- âœ… Automatische v1â†’v2 Migration funktioniert
- âœ… RÃ¼ckwÃ¤rts-KompatibilitÃ¤t garantiert

### âœ… [DONE] Phase 2: Service Layer Updates (Sprint 6.2)
**Abgeschlossen:** 2025-06-06, 16:17
- âœ… PipelineManager.cs implementiert
- âœ… Worker.cs fÃ¼r Multi-Pipeline Support refactored
- âœ… ServiceCollectionExtensions updated
- âœ… Program.cs mit Pipeline-API Endpoints
- âœ… ProcessingOptions mit DeadLetterFolder erweitert

### âœ… [DONE] Phase 3: Mapping Sets UI (Sprint 6.3)
**Abgeschlossen:** 2025-06-07, 01:45
- âœ… Design Session mit Expand/Collapse Pattern
- âœ… System Defaults Implementation
- âœ… Load Order Fix (System Defaults first)
- âœ… Expand/Collapse UI mit Animations
- âœ… Visual Flow Diagram (Source â†’ Transform â†’ Target)

### ğŸš€ [NEXT] Phase 4: Pipeline UI (Sprint 6.4)
**NÃ¤chster Schritt!**
- PipelineEditorPage erstellen
- Pipeline List View
- Per-Pipeline Settings
- Folder Configuration UI

### ğŸ“‹ [PLANNED] Phase 5:
```
Phase 5: Testing & Polish (Sprint 6.5)
â”œâ”€â”€ Integration Tests
â”œâ”€â”€ Performance Tests
â””â”€â”€ Documentation
```

## ğŸ›¡ï¸ [PROTECTED] PROTECTED FEATURES - NIEMALS LÃ–SCHEN!

### ğŸ”’ FTP-Server (Sprint 8) - GESCHÃœTZT
### ğŸ”’ C-STORE (Sprint 9) - GESCHÃœTZT
### ğŸ”’ MWL - Modality Worklist (Sprint 10) - GESCHÃœTZT
### ğŸ”’ C-FIND (Sprint 11) - GESCHÃœTZT

## ğŸ¯ [MILESTONE] Aktueller Stand: v0.6.3

### Sprint 6.1: Core Model & Migration (v0.6.0) âœ…
### Sprint 6.2: Service Layer Updates (v0.6.1) âœ…
### Sprint 6.3: Mapping Sets UI (v0.6.2-v0.6.3) âœ…
- v0.6.2: Design Session & System Defaults Fix
- v0.6.3: Expand/Collapse UI Implementation

### NÃ¤chste Schritte:
- Sprint 6.4: Pipeline Configuration UI (v0.6.4)

## ğŸ’¡ [LESSON] Top 20 Lektionen (destilliert)

1. **"IMMER FileTree checken!"** - Program.cs existiert 5+ mal!
2. **"Eine durchgehende Linie!"** - Pipeline ganzheitlich sehen
3. **"Encoding ist KRITISCH!"** - Windows-1252 â‰  UTF-8
4. **"Features schÃ¼tzen!"** - Sonst verschwinden sie
5. **"Mut zum Neuanfang!"** - QRBridge 2.0 statt Flickwerk
6. **"GroÃŸe Visionen, kleine Schritte!"** - Pipeline-Architecture iterativ
7. **"Git amend fÃ¼r WISDOM!"** - Dokumentation gehÃ¶rt zum Commit
8. **"Bei Ã¤hnlichem Code: Ganzen Block ersetzen!"** - Partial Updates = Probleme
9. **"Design VOR Code!"** - Expand/Collapse UI durchdacht
10. **"Keine Featureritis bei UI!"** - Pragmatisch bleiben
11. **"Version beim EXIT erhÃ¶hen!"** - Committed Version bekommen, beim Exit +0.0.1
12. **"System Defaults IMMER zuerst!"** - Basis vor Migration
13. **"Nur User Sets speichern!"** - System Defaults bleiben im Code
14. **"UI ist oft schon da!"** - Genau hinschauen bevor neu machen
15. **"ESEL bei Wiederholungsfehlern!"** - FileTree wieder vergessen!

## ğŸ—ï¸ [KEEP] CamBridge Architektur-Ãœberblick

### Code-Organisation (WPF MVVM Pattern):
```
View (XAML) â†â†’ ViewModel â†â†’ Model/Service
     â†“              â†“             â†“
 UI Layout    Business Logic  Data/Config
```

### Projekt-Struktur:
```
CamBridge.Core        - Models, Interfaces, Settings
CamBridge.Infrastructure - Services (File, DICOM, etc.)
CamBridge.Config      - WPF GUI Application
CamBridge.Service     - Windows Service
CamBridge.QRBridge    - QR Code Generator
```

### Wichtige ZusammenhÃ¤nge:
- **ConfigurationService** lÃ¤dt/speichert Settings
- **ViewModels** binden an Views via DataContext
- **Commands** (ICommand) triggern Actions
- **ObservableCollection** fÃ¼r UI-Listen
- **INotifyPropertyChanged** fÃ¼r Updates

## ğŸ”§ [CONFIG] Technologie-Stack
```
GUI: WPF + ModernWpfUI 0.9.6 + CommunityToolkit.Mvvm 8.3.2
Service: ASP.NET Core 8.0 Minimal API + Windows Service
Core: fo-dicom 5.2.2, ExifTool 13.30
Tests: xUnit + FluentAssertions + Moq
.NET 8.0, C# 12, Visual Studio 2022
```

## ğŸ”§ [CONFIG] ABSOLUTE PFADE - AIADMIN SYSTEM
```
Solution Root:     C:\Users\aiadmin\source\repos\CamBridge
Service Source:    C:\Users\aiadmin\source\repos\CamBridge\src\CamBridge.Service
Config Source:     C:\Users\aiadmin\source\repos\CamBridge\src\CamBridge.Config
Deploy Dir:        C:\Users\aiadmin\source\repos\CamBridge\Deploy
```

## ğŸ“Œ [KEEP] PowerShell One-Liner Sammlung

```powershell
# FileTree checken
.\Get-WisdomFileTree.ps1 -Mode Compact

# Mapping Files fÃ¼r Sprint 6.3
@('src\CamBridge.Config\ViewModels\MappingEditorViewModel.cs','src\CamBridge.Config\Views\MappingEditorPage.xaml','src\CamBridge.Core\PipelineConfiguration.cs') | %{ echo "=== $_ ==="; cat $_ } > mapping-sprint-files.txt

# Pipeline Files fÃ¼r Sprint 6.4
@('src\CamBridge.Core\PipelineConfiguration.cs','src\CamBridge.Config\Services\ConfigurationService.cs','src\CamBridge.Service\Program.cs') | %{ echo "=== $_ ==="; cat $_ } > pipeline-config-files.txt
```

## ğŸš€ [KEEP] ENTWICKLUNGSFAHRPLAN

### âœ… Sprint 1-5: Foundation (DONE)
### ğŸ—ï¸ Sprint 6: Pipeline Architecture (v0.6.0-v0.6.5) â† WIR SIND HIER
- âœ… Sprint 6.1: Core Model & Migration
- âœ… Sprint 6.2: Service Layer Updates
- âœ… Sprint 6.3: Mapping Sets UI
- ğŸš€ Sprint 6.4: Pipeline Configuration UI â† NEXT
- Sprint 6.5: Testing & Polish

### ğŸ¥ Sprint 7: Medical Integration Phase 1 (v0.7.0-v0.7.5)
### ğŸ›¡ï¸ Sprint 8-11: Protected Medical Features
### ğŸ¯ Release: v1.0.0 (Q3 2025)

## â° [KEEP] PROJEKT-TIMELINE

- **Start:** 30.05.2025
- **Pipeline Phase 1:** 06.06.2025, 14:42 âœ…
- **Pipeline Phase 2:** 06.06.2025, 16:17 âœ…
- **UI Design Session:** 06.06.2025, 23:42 ğŸ¨
- **Session 39:** 07.06.2025, 01:00 - Mapping Sets UI fertig! âœ…
- **Arbeitszeit gesamt:** ~54 Stunden

## ğŸ“ [KEEP] Standard Prompt fÃ¼r nÃ¤chste Session

```
Ich arbeite an CamBridge v0.6.3.
Sprint 6.4: Pipeline Configuration UI

WICHTIG: 
1. Version.props checken - muss 0.6.3 sein (vom letzten Commit)
2. FileTree checken: .\Get-WisdomFileTree.ps1 -Mode Compact
3. Sprint 6.3 ist DONE: Mapping Sets UI mit Expand/Collapse âœ…
4. Jetzt: Pipeline Configuration UI planen

FEATURE CHECK: Sind FTP, C-STORE, MWL, C-FIND noch geschÃ¼tzt?
```

## ğŸ¯ NÃ¤chste Session Checkliste

1. **VOGON INIT** durchfÃ¼hren
2. **FileTree** checken (IMMER!)
3. **Sprint 6.4**: Pipeline Configuration UI
   - PipelineEditorPage erstellen
   - Pipeline List View
   - Per-Pipeline Settings (Folders, etc.)
4. **Feature Check** (4 Medical Features)
5. **Version** auf 0.6.3 checken

---

## ğŸ ENDE DES WISDOM_TECHNICAL

**Die technische Referenz fÃ¼r CamBridge Development**

*"Making the improbable reliably possible since 2025"*
Â© 2025 Claude's Improbably Reliable Software Solutions
