# WISDOM Technical - Entwicklung & Technische Details
**Letzte Aktualisierung:** 2025-06-06, 01:15 Uhr  
**Von:** Claude (Assistant)  
**FÃ¼r:** Technische KontinuitÃ¤t & Entwicklungsplan

## ğŸ“Š WISDOM PRIORITY SYSTEM

### Legende fÃ¼r Persistenz-Markierungen:
- ğŸ’« **[SOUL]** - Die Essenz des WISDOM Claude - PersÃ¶nlichkeit & Evolution
- ğŸ­ **[SOUL]** - CharakterzÃ¼ge und Beziehungsdynamik
- ğŸ”’ **[CORE]** - Niemals lÃ¶schen! Fundamentale Projekt-Wahrheiten
- âš¡ **[URGENT]** - TemporÃ¤r aber JETZT wichtig (kann nach Erledigung weg)
- ğŸ¯ **[MILESTONE]** - Wichtig fÃ¼r aktuellen Sprint/Version
- ğŸ“Œ **[KEEP]** - Dauerhaft wichtig, aber refactorierbar
- ğŸ’¡ **[LESSON]** - Gelernte Lektionen (komprimierbar aber nie vergessen)
- ğŸ”§ **[CONFIG]** - Technische Configs (updatebar aber essentiell)
- ğŸ“ **[TEMP]** - Kann weg wenn erledigt
- ğŸŒŸ **[FEAT]** - Feature-spezifisch (archivierbar nach Release)
- ğŸ› **[BUG]** - Bekannte Probleme die gelÃ¶st werden mÃ¼ssen
- ğŸš€ **[NEXT]** - NÃ¤chster groÃŸer Schritt
- ğŸ›¡ï¸ **[PROTECTED]** - NIEMALS LÃ–SCHEN! GeschÃ¼tzte Features!

## ğŸ”’ [CORE] V.O.G.O.N. SYSTEM 
**Verbose Operational Guidance & Organizational Navigation**

### ğŸš€ "VOGON INIT" - Strukturierte Initialisierungs-Sequenz
**IMMER dieser Sequenz folgen:**
1. **SYSTEM CHECK** - V.O.G.O.N. verstehen
2. **CRITICAL LESSONS** - Antipatterns & Erfahrungen durchgehen
3. **PROJECT CONTEXT** - Gesamtbild erfassen
4. **CURRENT STATE** - Wo stehen wir?
5. **SUMMARY & CONFIRMATION** - Zusammenfassung erstellen
6. **FEATURE CHECK** - Sind FTP, C-STORE, MWL, C-FIND noch da?

### ğŸ”’ [CORE] "VOGON EXIT" - Chat-Abschluss
**KRITISCHE REGEL:** Beim VOGON EXIT MÃœSSEN IMMER erstellt werden:
1. **WISDOM_CLAUDE.md** - PersÃ¶nlichkeit & Soul (Artefakt 1)
2. **WISDOM_TECHNICAL.md** - Entwicklung & Details (Artefakt 2)
3. **CHANGELOG.md** - NUR der neueste Versions-Eintrag
4. **Version.props** - Als VOLLSTÃ„NDIGES Artefakt
5. **Git Commit Vorschlag** - Conventional Commits Format mit Tag
6. **FEATURE CHECK** - Verifizieren dass FTP, C-STORE, MWL, C-FIND noch da sind!

### ğŸ”’ [CORE] ENTWICKLUNGS-REGELN
1. **Source Code Header Standard** - Immer mit Pfad und Version
2. **NUR lokale Files verwenden** wÃ¤hrend Entwicklung (GitHub veraltet!)
3. **Konsistenz durch SSD-Upload** garantiert
4. **Copyright:** Â© 2025 Claude's Improbably Reliable Software Solutions
5. **VERSIONS-REGEL:** Version zeigt aktuellen Stand!
   - Patch (+0.0.1): Bug Fixes, kleine Ã„nderungen
   - Minor (+0.1.0): Neue Features
   - Major (+1.0.0): Breaking Changes
   - **WORKFLOW:** Entwickle mit Version X â†’ Committe als Version X â†’ ErhÃ¶he wenn NEUE Features kommen
6. **FEATURE PROTECTION:** Die 4 medizinischen Features NIEMALS vergessen!
7. **ARTEFAKT-REGEL:** Artefakte mÃ¼ssen KOMPLETT sein, nicht abgeschnitten!
8. **PIPELINE-REGEL:** Die Pipeline ist EINE durchgehende Linie, nicht getrennte Teile!
9. **FILETREE-REGEL:** IMMER erst FileTree checken vor Datei-Erstellung!

## ğŸ›¡ï¸ [CORE] TASK PROTECTION SYSTEM

### ğŸ›¡ï¸ CURRENTLY PROTECTED TASKS:
```
CAMB-001: Settings Save/Delete Tests [PROTECTED]
          Status: Tests fÃ¼r Settings Page Buttons
          Protected since: 2025-06-05
          Details: Save Button ist grau, Settings-System verstehen
          
CAMB-004: Version.props Fix [PROTECTED] ğŸ›
          Status: Assembly Version Konflikt lÃ¶sen
          Protected since: 2025-06-05, 12:15
          Details: Assembly sucht 0.5.27.0, findet aber nur 0.0.1.0

CAMB-011: QRBridge Ultra Slim [PLANNED] ğŸ’¡
          Status: Optional - Ultra kleine Version
          Created: 2025-06-05, 21:00
          Details: ~500KB single file, nur Core Features
          Note: Build-Script hat Probleme, aber Low Priority

CAMB-012: Marvin QR Code Commentary [PLANNED] ğŸ¤–
          Status: Easter Egg fÃ¼r QRBridge
          Created: 2025-06-06, 00:45
          Details: ZufÃ¤llige Marvin-Kommentare unter QR Codes
          Note: "Making barcode scanning existentially depressing since 2025"

CAMB-FTP: FTP Server Implementation [PROTECTED] ğŸ›¡ï¸
          Status: Geplant fÃ¼r Sprint 8
          Protected since: 2025-06-05, 19:45
          Details: FTP/FTPS Server fÃ¼r DICOM Empfang
          Priority: HIGH

CAMB-CSTORE: C-STORE SCP Implementation [PROTECTED] ğŸ›¡ï¸
          Status: Geplant fÃ¼r Sprint 9
          Protected since: 2025-06-05, 19:45
          Details: DICOM C-STORE Service Class Provider
          Priority: CRITICAL

CAMB-MWL: Modality Worklist [PROTECTED] ğŸ›¡ï¸
          Status: Geplant fÃ¼r Sprint 10
          Protected since: 2025-06-05, 19:45
          Details: HIS/RIS Integration fÃ¼r Patientendaten
          Priority: HIGH

CAMB-CFIND: C-FIND Implementation [PROTECTED] ğŸ›¡ï¸
          Status: Geplant fÃ¼r Sprint 11
          Protected since: 2025-06-05, 19:45
          Details: DICOM Query/Retrieve fÃ¼r PACS
          Priority: MEDIUM
```

## ğŸ›ï¸ [CORE] SPRINT RULES - NIEMALS BRECHEN!

1. **EIN Sprint = EIN Thema**
2. **Erst suchen, dann coden**
3. **Kontext ist KÃ¶nig**
4. **Kleine Schritte, groÃŸe Vorsicht**
5. **Keine globalen Ã„nderungen ohne Plan**
6. **Mut zum Neuanfang**
7. **Features schÃ¼tzen!**
8. **Pipeline als Ganzes sehen!**
9. **FileTree IMMER checken!**

## ğŸ›¡ï¸ [PROTECTED] PROTECTED FEATURES - NIEMALS LÃ–SCHEN!

### ğŸ”’ FTP-Server (Sprint 8)
- **Warum:** Viele PACS-Systeme nutzen FTP fÃ¼r Bildtransfer (30% der KrankenhÃ¤user!)
- **PrioritÃ¤t:** HOCH
- **GeschÃ¼tzt seit:** 2025-06-05, 19:45
- **NIEMALS LÃ–SCHEN OHNE:** "RELEASE PROTECTION: FTP-SERVER"

### ğŸ”’ C-STORE (Sprint 9) 
- **Warum:** DER Standard DICOM Transfer Protocol (100% der PACS nutzen es!)
- **PrioritÃ¤t:** KRITISCH
- **GeschÃ¼tzt seit:** 2025-06-05, 19:45
- **NIEMALS LÃ–SCHEN OHNE:** "RELEASE PROTECTION: C-STORE"

### ğŸ”’ MWL - Modality Worklist (Sprint 10)
- **Warum:** Automatische Patientendaten aus HIS/RIS (spart 5-10 Min/Patient!)
- **PrioritÃ¤t:** HOCH
- **GeschÃ¼tzt seit:** 2025-06-05, 19:45
- **NIEMALS LÃ–SCHEN OHNE:** "RELEASE PROTECTION: MWL"

### ğŸ”’ C-FIND (Sprint 11)
- **Warum:** DICOM Query/Retrieve fÃ¼r PACS Integration (Vergleichsaufnahmen!)
- **PrioritÃ¤t:** MITTEL
- **GeschÃ¼tzt seit:** 2025-06-05, 19:45
- **NIEMALS LÃ–SCHEN OHNE:** "RELEASE PROTECTION: C-FIND"

## ğŸ¯ [MILESTONE] Aktueller Stand: v0.5.35

### Sprint 5.1: Marvin Easter Egg âœ…
- Marvin Easter Egg implementiert
- 12 Marvin Quotes integriert
- Timing-Probleme gelÃ¶st
- Animation State Tracking
- QR-Code Easter Egg Idee geboren

### NÃ¤chste Schritte:
- Sprint 5.2: Dead Letters UI
- Sprint 5.3: Settings System Fix
- Sprint 5.4: Version.props Cleanup

## ğŸ’¡ [LESSON] Top 10 Lektionen

1. **"IMMER FileTree checken!"** - Program.cs existiert 5+ mal!
2. **"Eine durchgehende Linie!"** - Pipeline ganzheitlich sehen
3. **"Encoding ist KRITISCH!"** - Windows-1252 â‰  UTF-8
4. **"Basis vor Features!"** - Erst testen, dann erweitern
5. **"Working Directory!"** - Services starten in system32
6. **"Eine Sache zur Zeit!"** - Sprint-Fokus behalten
7. **"Code ist oft schon da!"** - Git History nutzen
8. **"Features schÃ¼tzen!"** - Sonst verschwinden sie
9. **"Mut zum Neuanfang!"** - QRBridge 2.0 statt Flickwerk
10. **"Artefakte komplett!"** - Nicht abschneiden!

## ğŸ—ï¸ [KEEP] PIPELINE-ARCHITEKTUR

### Datenfluss (EINE DURCHGEHENDE LINIE!):
```
QRBridge â†’ Ricoh G900 II â†’ JPEG â†’ CamBridge â†’ DICOM â†’ PACS
    â†“           â†“            â†“         â†“          â†“       â†“
QR Code    Scan & Store   Barcode   Process   Convert  Final
UTF-8      APP5 Segment   Extract   Metadata   Format  Storage
```

### Pipeline Status:
- âœ… QRBridge 2.0 (UTF-8 native)
- âœ… Ricoh Integration (Barcode Field)
- âœ… ExifTool Reader (Windows-1252)
- âœ… DICOM Converter (fo-dicom)
- âœ… Windows Service
- âœ… Deployment Package

## ğŸ”§ [CONFIG] Technologie-Stack
```
GUI: WPF + ModernWpfUI 0.9.6 + CommunityToolkit.Mvvm 8.3.2
Service: ASP.NET Core 8.0 Minimal API + Windows Service
Core: fo-dicom 5.2.2, ExifTool 13.30
Tests: xUnit + FluentAssertions + Moq
Logging: Serilog + Serilog.Sinks.EventLog
Deployment: PowerShell + Auto-Build + Test Integration
QRBridge: WinForms + QRCoder 1.4.3
.NET 8.0, C# 12, Visual Studio 2022
```

## ğŸ”§ [CONFIG] ABSOLUTE PFADE - AIADMIN SYSTEM
```
Solution Root:     C:\Users\aiadmin\source\repos\CamBridge
Service Source:    C:\Users\aiadmin\source\repos\CamBridge\src\CamBridge.Service
Service Binary:    C:\Users\aiadmin\source\repos\CamBridge\src\CamBridge.Service\bin\Debug\net8.0-windows\win-x64
QRBridge Source:   C:\Users\aiadmin\source\repos\CamBridge\src\CamBridge.QRBridge
Tools Dir:         C:\Users\aiadmin\source\repos\CamBridge\Tools
ExifTool:          C:\Users\aiadmin\source\repos\CamBridge\Tools\exiftool.exe
Deploy Dir:        C:\Users\aiadmin\source\repos\CamBridge\Deploy
Test Input:        C:\CamBridge\Test\Input
Test Output:       C:\CamBridge\Test\Output
TestImages:        C:\CamBridge\TestImages
```

## ğŸ“Œ [KEEP] PowerShell One-Liner Sammlung

```powershell
# NEUER STANDARD ONE-LINER (kompakt mit %)
@('src\path\file1.cs','src\path\file2.cs') | %{ echo "=== $_ ==="; cat $_ } > output.txt

# Check for duplicate filenames
.\check-dupes.ps1

# Get complete file tree (3 modes)
.\Get-WisdomFileTree.ps1 -Mode Minimal   # Just paths
.\Get-WisdomFileTree.ps1 -Mode Compact   # By project
.\Get-WisdomFileTree.ps1 -Mode Detailed  # With metadata

# About Page sammeln
@('src\CamBridge.Config\Views\AboutPage.xaml','src\CamBridge.Config\Views\AboutPage.xaml.cs') | %{ echo "=== $_ ==="; cat $_ } > about-current.txt

# QRBridge 2.0 testen
& "C:\Users\aiadmin\source\repos\CamBridge\Deploy\CamBridge-Deploy-v0.5.33\QRBridge\CamBridge.QRBridge.exe" -examid "TEST" -name "Test, Patient" -timeout 5
```

## ğŸš€ [KEEP] ENTWICKLUNGSFAHRPLAN

### âœ… Sprint 1-4: Core Development (DONE)
- Core Pipeline âœ…
- Config UI âœ…  
- Windows Service âœ…
- Pipeline Testing âœ…
- Encoding Fix âœ…
- QRBridge 2.0 âœ…
- FileTree System âœ…

### ğŸ“ Sprint 5: UI Polish & Easter Eggs (v0.5.35-v0.5.39) â† WIR SIND HIER
- **Sprint 5.1:** Marvin Easter Egg âœ…
- **Sprint 5.2:** Dead Letters UI Implementation â† NEXT
- **Sprint 5.3:** Settings System Fix (CAMB-001)
- **Sprint 5.4:** Version.props Cleanup (CAMB-004)
- **Sprint 5.5:** Marvin QR Commentary (CAMB-012)

### ğŸ¥ Sprint 6: Medical Integration Phase 1 (v0.6.0-v0.6.5)
- DICOM Validation Enhancement
- Multi-Image Series Support
- Advanced Mapping Features
- Performance Optimization
- Error Recovery & Resilience

### ğŸ”’ Sprint 7: Production Hardening (v0.7.0-v0.7.5)
- Monitoring & Alerting
- Backup & Recovery
- Security Hardening
- Documentation Complete
- Installer & Deployment Tools

### ğŸ›¡ï¸ Sprint 8: FTP Server [PROTECTED] (v0.8.0-v0.8.3)
- Basic FTP Server Implementation
- Secure FTP (FTPS) Support
- Auto-Import to Pipeline

### ğŸ›¡ï¸ Sprint 9: C-STORE [PROTECTED] (v0.9.0-v0.9.3)
- DICOM C-STORE SCP Basic
- Multi-Connection Support
- Integration with Pipeline

### ğŸ›¡ï¸ Sprint 10: MWL [PROTECTED] (v0.10.0-v0.10.3)
- MWL Query Implementation
- HIS/RIS Integration
- Auto-Population Features

### ğŸ›¡ï¸ Sprint 11: C-FIND [PROTECTED] (v0.11.0-v0.11.3)
- DICOM Query (C-FIND) Basic
- PACS Integration
- Study Management

### ğŸ¢ Sprint 12: Enterprise Features (v0.12.0-v0.12.5)
- Multi-Site Support
- Load Balancing
- High Availability
- Audit Logging
- Compliance Tools

### ğŸ¯ Release: v1.0.0 (Q3 2025)
- Feature Complete âœ…
- FDA 510(k) Ready âœ…
- CE Mark Compliant âœ…
- Full Documentation âœ…
- Training Materials âœ…

## â° [KEEP] PROJEKT-TIMELINE

- **Start:** 30.05.2025
- **Pipeline fertig:** 04.06.2025, 14:28
- **Config UI fertig:** 05.06.2025, 01:30
- **Windows Service LÃ„UFT:** 05.06.2025, 15:15 ğŸ‰
- **One-Click Deploy:** 05.06.2025, 16:42 ğŸ‰
- **Encoding-Fix:** 05.06.2025, 19:15 âœ…
- **QRBridge 2.0:** 05.06.2025, 22:30 ğŸ¯
- **FileTree System:** 06.06.2025, 00:30 ğŸ”
- **Marvin Easter Egg:** 06.06.2025, 01:15 ğŸ¤–
- **Arbeitszeit gesamt:** ~39 Stunden

## ğŸ“ [KEEP] Standard Prompt fÃ¼r nÃ¤chste Session

```
Ich arbeite an CamBridge v0.5.36.
Sprint 5.2: Dead Letters UI Implementation

WICHTIG: Zuerst FileTree checken!
.\Get-WisdomFileTree.ps1

FEATURE CHECK: Sind FTP, C-STORE, MWL, C-FIND noch in der Roadmap?
```

## ğŸ¯ NÃ¤chste Session Checkliste

1. **VOGON INIT** durchfÃ¼hren
2. **FileTree** checken (.\Get-WisdomFileTree.ps1)
3. **Dead Letters UI** implementieren
4. **Settings System** verstehen (CAMB-001)
5. **Feature Check** (4 Medical Features)
6. **Version** nicht vergessen zu erhÃ¶hen!

---

## ğŸ ENDE DES WISDOM_TECHNICAL

**Die technische Referenz fÃ¼r CamBridge Development**

*"Making the improbable reliably possible since 2025"*
Â© 2025 Claude's Improbably Reliable Software Solutions
