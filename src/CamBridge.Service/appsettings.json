{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information",
      "CamBridge": "Debug",
      "CamBridge.Infrastructure.Services.ExifToolReader": "Debug",
      "CamBridge.Infrastructure.Services.FileProcessor": "Debug"
    }
  },
  "CamBridge": {
    "Service": {
      "StartupDelaySeconds": 0,
      "ShutdownTimeoutSeconds": 30
    },
    "WatchFolders": [
      {
        "Path": "C:\\CamBridge\\Test\\Input",
        "FilePattern": "*.jpg;*.jpeg",
        "IncludeSubdirectories": false,
        "Enabled": true,
        "Priority": 1,
        "OutputPath": "C:\\CamBridge\\Test\\Output"
      }
    ],
    "DefaultOutputFolder": "C:\\CamBridge\\Test\\Output",
    "ExifToolPath": "Tools\\exiftool.exe",
    "ExifToolTimeoutMs": 10000,
    "ProcessingOptions": {
      "InputFolder": "C:\\CamBridge\\Test\\Input",
      "OutputFolder": "C:\\CamBridge\\Test\\Output",
      "ArchiveFolder": "C:\\CamBridge\\Test\\Archive",
      "DeadLetterFolder": "C:\\CamBridge\\Test\\DeadLetter",
      "DeleteAfterProcessing": false,
      "FilePattern": "*.jpg",
      "RecursiveWatch": false,
      "MaxConcurrentFiles": 1,
      "ProcessingTimeoutSeconds": 60,
      "RetryCount": 1,
      "RetryDelayMs": 500,
      "EnableDetailedLogging": true,
      "SaveIntermediateSteps": false,
      "MinimumFileSizeBytes": 1024,
      "MaximumFileSizeBytes": 104857600,
      "SuccessAction": "Leave",
      "FailureAction": "Leave",
      "CreateBackup": false,
      "BackupFolder": "C:\\CamBridge\\Test\\Backup",
      "ErrorFolder": "C:\\CamBridge\\Test\\Error",
      "OutputOrganization": "ByPatientAndDate",
      "OutputFilePattern": "{PatientID}_{StudyDate}_{InstanceNumber}.dcm",
      "MaxConcurrentProcessing": 2,
      "RetryOnFailure": true,
      "MaxRetryAttempts": 3,
      "RetryDelaySeconds": 2,
      "ProcessExistingOnStartup": true
    },
    "DicomSettings": {
      "ImplementationClassUID": "1.2.276.0.7230010.3.1.4.0",
      "ImplementationVersionName": "CAMBRIDGE_001",
      "SourceApplicationEntityTitle": "CAMBRIDGE",
      "DefaultCharacterSet": "ISO_IR 100",
      "ValidateBeforeSave": true,
      "StrictValidation": false,
      "LogValidationWarnings": true,
      "ValidateAfterCreation": true
    },
    "NotificationSettings": {
      "EnableEmail": false,
      "EnableEventLog": false,
      "MinimumEmailLevel": "Error",
      "DeadLetterThreshold": 50,
      "SendDailySummary": false,
      "DailySummaryHour": 8,
      "Email": {
        "Enabled": false,
        "SmtpServer": "localhost",
        "SmtpPort": 1025,
        "SmtpHost": "localhost",
        "UseSsl": false,
        "Username": "",
        "Password": "",
        "FromAddress": "cambridge@localhost",
        "From": "cambridge@localhost",
        "ToAddresses": "admin@localhost",
        "To": "admin@localhost",
        "SubjectPrefix": "[CamBridge]",
        "SendDailySummary": false,
        "DailySummaryTime": "08:00:00",
        "SendOnError": false,
        "SendOnSuccess": false,
        "TestMode": true
      }
    }
  },
  "AllowedHosts": "*",
  "Kestrel": {
    "Endpoints": {
      "Http": {
        "Url": "http://localhost:5050"
      }
    }
  }
}
